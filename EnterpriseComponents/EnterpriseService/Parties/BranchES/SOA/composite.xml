<?xml version="1.0" encoding="UTF-8" ?>
<!--Generated by Oracle SOA Modeler version 12.1.3.0.1 at [4/19/15 6:14 AM].-->
<!--Generated by Oracle SOA Modeler version 12.1.3.0.0 at [5/10/15 8:40 PM].-->
<composite name="BranchES" revision="1.0" label="2015-02-25_17-30-24_935" mode="active" state="on" xmlns="http://xmlns.oracle.com/sca/1.0"
           xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy"
           xmlns:orawsp="http://schemas.oracle.com/ws/2006/01/policy" xmlns:ui="http://xmlns.oracle.com/soa/designer/"
           xmlns:sca-ext="http://xmlns.oracle.com/sca/1.0-ext">
    <import namespace="http://xmlns.equitybank.co.ke/ESB/ES/Parties/Branch/V1" location="WSDLs/BranchESWrapper.wsdl" importType="wsdl"/>
    <import namespace="http://xmlns.equitybank.co.ke/ESB/PS/Finacle/Branch/V1"
            location="oramds:/apps/ESBMetadata/ComponentLibrary/ProviderServices/Finacle/Branch/V1/BranchPS.wsdl" importType="wsdl"/>
    <service name="BranchES_direct" ui:wsdlLocation="WSDLs/BranchESWrapper.wsdl">
        <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Parties/Branch/V1#wsdl.interface(BranchESPort)"/>
        <binding.direct/>
    </service>
    <property name="compositeID" type="xs:string" many="false">BranchESV1</property>
    <property name="productVersion" type="xs:string" many="false">12.1.3.0.0</property>
    <component name="BranchRouter">
        <implementation.mediator src="Mediators/BranchRouter.mplan"/>
        <componentType>
            <service name="BranchRouter" ui:wsdlLocation="WSDLs/BranchESWrapper.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Parties/Branch/V1#wsdl.interface(BranchESPort)"/>
            </service>
            <reference name="CreateBranch.CreateBranchPL" ui:wsdlLocation="WSDLs/BranchESWrapper.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Parties/Branch/V1#wsdl.interface(CreateBranchPort)"/>
            </reference>
            <reference name="QueryBranch.QueryBranchPL" ui:wsdlLocation="WSDLs/BranchESWrapper.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Parties/Branch/V1#wsdl.interface(QueryBranchPort)"/>
            </reference>
            <reference name="UpdateBranch.UpdateBranchPL" ui:wsdlLocation="WSDLs/BranchESWrapper.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Parties/Branch/V1#wsdl.interface(UpdateBranchPort)"/>
            </reference>
        </componentType>
    </component>
    <component name="CreateBranch" version="2.0">
        <implementation.bpel src="BPEL/CreateBranch.bpel"/>
        <componentType>
            <service name="CreateBranchPL" ui:wsdlLocation="WSDLs/BranchESWrapper.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Parties/Branch/V1#wsdl.interface(CreateBranchPort)"/>
            </service>
            <reference name="BranchProvRouterPL" ui:wsdlLocation="WSDLs/BranchESWrapper.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Parties/Branch/V1#wsdl.interface(BranchESPort)"/>
            </reference>
        </componentType>
        <property name="bpel.config.transaction" type="xs:string" many="false">requiresNew</property>
    </component>
    <component name="QueryBranch" version="2.0">
        <implementation.bpel src="BPEL/QueryBranch.bpel"/>
        <componentType>
            <service name="QueryBranchPL" ui:wsdlLocation="WSDLs/BranchESWrapper.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Parties/Branch/V1#wsdl.interface(QueryBranchPort)"/>
            </service>
            <reference name="BranchProvRouterPL" ui:wsdlLocation="WSDLs/BranchESWrapper.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Parties/Branch/V1#wsdl.interface(BranchESPort)"/>
            </reference>
        </componentType>
        <property name="bpel.config.transaction" type="xs:string" many="false">requiresNew</property>
    </component>
    <component name="UpdateBranch" version="2.0">
        <implementation.bpel src="BPEL/UpdateBranch.bpel"/>
        <componentType>
            <service name="UpdateBranchPL" ui:wsdlLocation="WSDLs/BranchESWrapper.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Parties/Branch/V1#wsdl.interface(UpdateBranchPort)"/>
            </service>
            <reference name="BranchProvRouterPL" ui:wsdlLocation="WSDLs/BranchESWrapper.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Parties/Branch/V1#wsdl.interface(BranchESPort)"/>
            </reference>
        </componentType>
        <property name="bpel.config.transaction" type="xs:string" many="false">requiresNew</property>
    </component>
    <component name="BranchProvRouter">
        <implementation.mediator src="Mediators/BranchProvRouter.mplan"/>
        <componentType>
            <service name="BranchProvRouter" ui:wsdlLocation="WSDLs/BranchESWrapper.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Parties/Branch/V1#wsdl.interface(BranchESPort)"/>
            </service>
            <reference name="Finacle.BranchPS"
                       ui:wsdlLocation="oramds:/apps/ESBMetadata/ComponentLibrary/ProviderServices/Finacle/Branch/V1/BranchPS.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/PS/Finacle/Branch/V1#wsdl.interface(BranchPSPort)"/>
            </reference>
        </componentType>
    </component>
    <reference name="Finacle.BranchPS" ui:wsdlLocation="oramds:/apps/ESBMetadata/ComponentLibrary/ProviderServices/Finacle/Branch/V1/BranchPS.wsdl">
        <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/PS/Finacle/Branch/V1#wsdl.interface(BranchPSPort)"/>
        <binding.rest config="oramds:/apps/ESBMetadata/ComponentLibrary/ProviderServices/Finacle/Branch/V1/BranchPS.wadl"
                      location="http://soa3host1vhn1dev.ebsafrica.com:8011/ESB/PS/Finacle/REST/Branch"/>
    </reference>
    <wire>
        <source.uri>BranchES_direct</source.uri>
        <target.uri>BranchRouter/BranchRouter</target.uri>
    </wire>
    <wire>
        <source.uri>BranchRouter/CreateBranch.CreateBranchPL</source.uri>
        <target.uri>CreateBranch/CreateBranchPL</target.uri>
    </wire>
    <wire>
        <source.uri>BranchRouter/QueryBranch.QueryBranchPL</source.uri>
        <target.uri>QueryBranch/QueryBranchPL</target.uri>
    </wire>
    <wire>
        <source.uri>BranchRouter/UpdateBranch.UpdateBranchPL</source.uri>
        <target.uri>UpdateBranch/UpdateBranchPL</target.uri>
    </wire>
    <wire>
        <source.uri>CreateBranch/BranchProvRouterPL</source.uri>
        <target.uri>BranchProvRouter/BranchProvRouter</target.uri>
    </wire>
    <wire>
        <source.uri>QueryBranch/BranchProvRouterPL</source.uri>
        <target.uri>BranchProvRouter/BranchProvRouter</target.uri>
    </wire>
    <wire>
        <source.uri>UpdateBranch/BranchProvRouterPL</source.uri>
        <target.uri>BranchProvRouter/BranchProvRouter</target.uri>
    </wire>
    <wire>
        <source.uri>BranchProvRouter/Finacle.BranchPS</source.uri>
        <target.uri>Finacle.BranchPS</target.uri>
    </wire>
</composite>
