<?xml version="1.0" encoding="UTF-8" ?>
<!--Generated by Oracle SOA Modeler version 12.1.3.0.1 at [4/19/15 6:55 AM].-->
<composite name="PaymentES" revision="1.0" label="2015-02-25_17-30-24_935" mode="active" state="on" xmlns="http://xmlns.oracle.com/sca/1.0"
           xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy"
           xmlns:orawsp="http://schemas.oracle.com/ws/2006/01/policy" xmlns:ui="http://xmlns.oracle.com/soa/designer/"
           xmlns:sca-ext="http://xmlns.oracle.com/sca/1.0-ext">
    <import namespace="http://xmlns.equitybank.co.ke/ESB/ES/Transactions/Payment/V1" location="WSDLs/PaymentESWrapper.wsdl" importType="wsdl"/>
    <import namespace="http://xmlns.equitybank.co.ke/ESB/PS/Finacle/Payment/V1"
            location="oramds:/apps/ESBMetadata/ComponentLibrary/ProviderServices/Finacle/Payment/V1/PaymentPS.wsdl" importType="wsdl"/>
            <import namespace="http://xmlns.equitybank.co.ke/ESB/PS/Way4/Payment/V1"
            location="oramds:/apps/ESBMetadata/ComponentLibrary/ProviderServices/Way4/Payment/V1/PaymentPS.wsdl" importType="wsdl"/>
    <import namespace="http://xmlns.equitybank.co.ke/ESB/PS/Safaricom/Bill/V1"
            location="oramds:/apps/ESBMetadata/ComponentLibrary/ProviderServices/Safaricom/Bill/V1/BillPS.wsdl"
            importType="wsdl"/>
    <service name="PaymentES_direct" ui:wsdlLocation="WSDLs/PaymentESWrapper.wsdl">
        <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Transactions/Payment/V1#wsdl.interface(PaymentESPort)"/>
        <binding.direct/>
    </service>
    <property name="compositeID" type="xs:string" many="false">PaymentESV1</property>
    <property name="productVersion" type="xs:string" many="false">12.1.3.0.1</property>
    <component name="PaymentRouter">
        <implementation.mediator src="Mediators/PaymentRouter.mplan"/>
        <componentType>
            <service name="PaymentRouter" ui:wsdlLocation="WSDLs/PaymentESWrapper.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Transactions/Payment/V1#wsdl.interface(PaymentESPort)"/>
            </service>
            <reference name="CreatePayment.CreatePaymentPL" ui:wsdlLocation="WSDLs/PaymentESWrapper.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Transactions/Payment/V1#wsdl.interface(CreatePaymentPort)"/>
            </reference>
            <reference name="QueryPayment.QueryPaymentPL" ui:wsdlLocation="WSDLs/PaymentESWrapper.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Transactions/Payment/V1#wsdl.interface(QueryPaymentPort)"/>
            </reference>
            <reference name="UpdatePayment.UpdatePaymentPL" ui:wsdlLocation="WSDLs/PaymentESWrapper.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Transactions/Payment/V1#wsdl.interface(UpdatePaymentPort)"/>
            </reference>
        </componentType>
    </component>
    <component name="CreatePayment" version="2.0">
        <implementation.bpel src="BPEL/CreatePayment.bpel"/>
        <componentType>
            <service name="CreatePaymentPL" ui:wsdlLocation="WSDLs/PaymentESWrapper.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Transactions/Payment/V1#wsdl.interface(CreatePaymentPort)"/>
            </service>
            <reference name="PaymentProvRouterPL" ui:wsdlLocation="WSDLs/PaymentESWrapper.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Transactions/Payment/V1#wsdl.interface(PaymentESPort)"/>
            </reference>
        </componentType>
        <property name="bpel.config.transaction" type="xs:string" many="false">requiresNew</property>
    </component>
    <component name="QueryPayment" version="2.0">
        <implementation.bpel src="BPEL/QueryPayment.bpel"/>
        <componentType>
            <service name="QueryPaymentPL" ui:wsdlLocation="WSDLs/PaymentESWrapper.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Transactions/Payment/V1#wsdl.interface(QueryPaymentPort)"/>
            </service>
            <reference name="PaymentProvRouterPL" ui:wsdlLocation="WSDLs/PaymentESWrapper.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Transactions/Payment/V1#wsdl.interface(PaymentESPort)"/>
            </reference>
        </componentType>
        <property name="bpel.config.transaction" type="xs:string" many="false">requiresNew</property>
    </component>
    <component name="UpdatePayment" version="2.0">
        <implementation.bpel src="BPEL/UpdatePayment.bpel"/>
        <componentType>
            <service name="UpdatePaymentPL" ui:wsdlLocation="WSDLs/PaymentESWrapper.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Transactions/Payment/V1#wsdl.interface(UpdatePaymentPort)"/>
            </service>
            <reference name="PaymentProvRouterPL" ui:wsdlLocation="WSDLs/PaymentESWrapper.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Transactions/Payment/V1#wsdl.interface(PaymentESPort)"/>
            </reference>
        </componentType>
        <property name="bpel.config.transaction" type="xs:string" many="false">requiresNew</property>
    </component>
    <component name="PaymentProvRouter">
        <implementation.mediator src="Mediators/PaymentProvRouter.mplan"/>
        <componentType>
            <service name="PaymentProvRouter" ui:wsdlLocation="WSDLs/PaymentESWrapper.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/ES/Transactions/Payment/V1#wsdl.interface(PaymentESPort)"/>
            </service>
            <reference name="Finacle.PaymentPS"
                       ui:wsdlLocation="oramds:/apps/ESBMetadata/ComponentLibrary/ProviderServices/Finacle/Payment/V1/PaymentPS.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/PS/Finacle/Payment/V1#wsdl.interface(PaymentPSPort)"/>
            </reference>
            <reference name="Way4.PaymentPS"
                       ui:wsdlLocation="oramds:/apps/ESBMetadata/ComponentLibrary/ProviderServices/Way4/Payment/V1/PaymentPS.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/PS/Way4/Payment/V1#wsdl.interface(PaymentPSPort)"/>
            </reference>
            <reference name="Safaricom.BillPS"
                       ui:wsdlLocation="oramds:/apps/ESBMetadata/ComponentLibrary/ProviderServices/Safaricom/Bill/V1/BillPS.wsdl">
                <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/PS/Safaricom/Bill/V1#wsdl.interface(BillPSPort)"/>
            </reference>
        </componentType>
    </component>
    <reference name="Finacle.PaymentPS" ui:wsdlLocation="oramds:/apps/ESBMetadata/ComponentLibrary/ProviderServices/Finacle/Payment/V1/PaymentPS.wsdl">
        <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/PS/Finacle/Payment/V1#wsdl.interface(PaymentPSPort)"/>
        <binding.rest config="oramds:/apps/ESBMetadata/ComponentLibrary/ProviderServices/Finacle/Payment/V1/PaymentPS.wadl"
                      location="http://soa3host1vhn2dev.ebsafrica.com:8011/ESB/PS/Finacle/REST/Payment"/>
    </reference>
    <reference name="Safaricom.BillPS" ui:wsdlLocation="oramds:/apps/ESBMetadata/ComponentLibrary/ProviderServices/Safaricom/Bill/V1/BillPS.wsdl">
        <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/PS/Safaricom/Bill/V1#wsdl.interface(BillPSPort)"/>
        <binding.rest config="oramds:/apps/ESBMetadata/ComponentLibrary/ProviderServices/Safaricom/Bill/V1/BillPS.wadl"
                      location="http://soa3host1vhn2dev.ebsafrica.com:8011/ESB/PS/Safaricom/REST/Bill"/>
    </reference>
    <reference name="Way4.PaymentPS" ui:wsdlLocation="oramds:/apps/ESBMetadata/ComponentLibrary/ProviderServices/Way4/Payment/V1/PaymentPS.wsdl">
        <interface.wsdl interface="http://xmlns.equitybank.co.ke/ESB/PS/Way4/Payment/V1#wsdl.interface(PaymentPSPort)"/>
        <binding.rest config="oramds:/apps/ESBMetadata/ComponentLibrary/ProviderServices/Way4/Payment/V1/PaymentPS.wadl"
                      location="http://soa3host1vhn2dev.ebsafrica.com:8011/ESB/PS/Way4/REST/Payment"/>
    </reference>
    <wire>
        <source.uri>PaymentES_direct</source.uri>
        <target.uri>PaymentRouter/PaymentRouter</target.uri>
    </wire>
    <wire>
        <source.uri>PaymentRouter/CreatePayment.CreatePaymentPL</source.uri>
        <target.uri>CreatePayment/CreatePaymentPL</target.uri>
    </wire>
    <wire>
        <source.uri>PaymentRouter/QueryPayment.QueryPaymentPL</source.uri>
        <target.uri>QueryPayment/QueryPaymentPL</target.uri>
    </wire>
    <wire>
        <source.uri>PaymentRouter/UpdatePayment.UpdatePaymentPL</source.uri>
        <target.uri>UpdatePayment/UpdatePaymentPL</target.uri>
    </wire>
    <wire>
        <source.uri>CreatePayment/PaymentProvRouterPL</source.uri>
        <target.uri>PaymentProvRouter/PaymentProvRouter</target.uri>
    </wire>
    <wire>
        <source.uri>QueryPayment/PaymentProvRouterPL</source.uri>
        <target.uri>PaymentProvRouter/PaymentProvRouter</target.uri>
    </wire>
    <wire>
        <source.uri>UpdatePayment/PaymentProvRouterPL</source.uri>
        <target.uri>PaymentProvRouter/PaymentProvRouter</target.uri>
    </wire>
    <wire>
        <source.uri>PaymentProvRouter/Finacle.PaymentPS</source.uri>
        <target.uri>Finacle.PaymentPS</target.uri>
    </wire>
    <wire>
        <source.uri>PaymentProvRouter/Way4.PaymentPS</source.uri>
        <target.uri>Way4.PaymentPS</target.uri>
    </wire>
    <wire>
        <source.uri>PaymentProvRouter/Safaricom.BillPS</source.uri>
        <target.uri>Safaricom.BillPS</target.uri>
    </wire>
</composite>
