<?xml version="1.0" encoding="UTF-8" ?>
<!-- Generated by Oracle SOA Modeler version 12.1.3.0.0 at [4/28/15 11:16 AM]. -->
<composite name="BillPaymentES"
           revision="1.0"
           label="2015-04-28_11-16-09_482"
           mode="active"
           state="on"
           xmlns="http://xmlns.oracle.com/sca/1.0"
           xmlns:xs="http://www.w3.org/2001/XMLSchema"
           xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy"
           xmlns:orawsp="http://schemas.oracle.com/ws/2006/01/policy"
           xmlns:ui="http://xmlns.oracle.com/soa/designer/"
           xmlns:sca-ext="http://xmlns.oracle.com/sca/1.0-ext">
  <import namespace="http://xmlns.oracle.com/pcbpel/adapter/db/EnterpriseService.Transactions/BillPaymentES/PollingDB"
          location="WSDLs/PollingDB.wsdl" importType="wsdl"/>
  <import namespace="http://xmlns.oracle.com/EnterpriseService_Transactions/BillPaymentES/NotifyBill"
          location="WSDLs/NotifyBill.wsdl" importType="wsdl"/>
  <import namespace="http://xmlns.oracle.com/pcbpel/adapter/db/EnterpriseService.Transactions/BillPaymentES/StagingDB"
          location="WSDLs/StagingDB.wsdl" importType="wsdl"/>
  <import namespace="http://xmlns.oracle.com/EnterpriseService.Transactions/TransferES/Chai.PaymentPS"
          location="WSDLs/Chai.PaymentPS.wsdl" importType="wsdl"/>
  <service name="PollingDB" ui:wsdlLocation="WSDLs/PollingDB.wsdl">
    <interface.wsdl interface="http://xmlns.oracle.com/pcbpel/adapter/db/EnterpriseService.Transactions/BillPaymentES/PollingDB#wsdl.interface(PollingDB_ptt)"/>
    <binding.jca config="Adapters/PollingDB_db.jca">
      <property name="useRejectedMessageRecovery" type="xs:string" many="false" override="may">true</property>
    </binding.jca>
    <property name="jca.retry.count" type="xs:int" many="false" override="may">2147483647</property>
    <property name="jca.retry.interval" type="xs:int" many="false" override="may">1</property>
    <property name="jca.retry.backoff" type="xs:int" many="false" override="may">2</property>
    <property name="jca.retry.maxInterval" type="xs:int" many="false" override="may">120</property>
  </service>
  <property name="productVersion" type="xs:string" many="false">12.1.3.0.0</property>
  <property name="compositeID" type="xs:string" many="false">1f810cda-34a9-43bf-a208-3f5c7dff9b92</property>
  <component name="BillPaymentRouter">
    <implementation.mediator src="Mediators/BillPaymentRouter.mplan"/>
    <componentType>
      <service name="BillPaymentRouter" ui:wsdlLocation="WSDLs/PollingDB.wsdl">
        <interface.wsdl interface="http://xmlns.oracle.com/pcbpel/adapter/db/EnterpriseService.Transactions/BillPaymentES/PollingDB#wsdl.interface(PollingDB_ptt)"/>
      </service>
      <reference name="NotifyBill.NotifyBillPL" ui:wsdlLocation="WSDLs/NotifyBill.wsdl">
        <interface.wsdl interface="http://xmlns.oracle.com/EnterpriseService_Transactions/BillPaymentES/NotifyBill#wsdl.interface(NotifyBill)"/>
      </reference>
    </componentType>
  </component>
  <component name="NotifyBill" version="2.0">
    <implementation.bpel src="BPEL/NotifyBill.bpel"/>
    <componentType>
      <service name="NotifyBillPL" ui:wsdlLocation="WSDLs/NotifyBill.wsdl">
        <interface.wsdl interface="http://xmlns.oracle.com/EnterpriseService_Transactions/BillPaymentES/NotifyBill#wsdl.interface(NotifyBill)"/>
      </service>
      <reference name="Chai.PaymentPS" ui:wsdlLocation="WSDLs/Chai.PaymentPS.wsdl">
        <interface.wsdl interface="http://xmlns.oracle.com/EnterpriseService.Transactions/TransferES/Chai.PaymentPS#wsdl.interface(Chai.PaymentPS_ptt)"/>
      </reference>
      <reference name="StagingDB" ui:wsdlLocation="WSDLs/StagingDB.wsdl">
        <interface.wsdl interface="http://xmlns.oracle.com/pcbpel/adapter/db/EnterpriseService.Transactions/BillPaymentES/StagingDB#wsdl.interface(StagingDB_ptt)"/>
      </reference>
    </componentType>
    <property name="bpel.config.oneWayDeliveryPolicy" type="xs:string" many="false">async.persist</property>
  </component>
  <reference name="StagingDB" ui:wsdlLocation="WSDLs/StagingDB.wsdl">
    <interface.wsdl interface="http://xmlns.oracle.com/pcbpel/adapter/db/EnterpriseService.Transactions/BillPaymentES/StagingDB#wsdl.interface(StagingDB_ptt)"/>
    <binding.jca config="Adapters/StagingDB_db.jca"/>
    <property name="jca.retry.count" type="xs:int" many="false" override="may">4</property>
    <property name="jca.retry.interval" type="xs:int" many="false" override="may">1</property>
    <property name="jca.retry.backoff" type="xs:int" many="false" override="may">2</property>
    <property name="jca.retry.maxInterval" type="xs:int" many="false" override="may">120</property>
  </reference>
  <reference name="Chai.PaymentPS" ui:wsdlLocation="WSDLs/Chai.PaymentPS.wsdl">
      <interface.wsdl interface="http://xmlns.oracle.com/EnterpriseService.Transactions/TransferES/Chai.PaymentPS#wsdl.interface(Chai.PaymentPS_ptt)"/>
      <binding.rest config="Adapters/Chai.PaymentPS.wadl" location="http://soa3host1vhn2dev.ebsafrica.com:8011/ESB/PS/Chai/REST/payment">
         <property name="http.connTimeout" many="false" override="may">60000</property>
         <property name="http.chunkSize" many="false" override="may">0</property>
         <property name="http.readTimeout" many="false" override="may">60000</property>
      </binding.rest>
      <property name="RestResourcePattern" many="false" override="may">/WLS/SOARealtimeDomain/soa-infra|Transactions/BillPaymentES#1.0|SCA-REST-Reference(Chai.PaymentPS)</property>
   </reference>
  <wire>
    <source.uri>PollingDB</source.uri>
    <target.uri>BillPaymentRouter/BillPaymentRouter</target.uri>
  </wire>
  <wire>
    <source.uri>BillPaymentRouter/NotifyBill.NotifyBillPL</source.uri>
    <target.uri>NotifyBill/NotifyBillPL</target.uri>
  </wire>
  <wire>
    <source.uri>NotifyBill/Chai.PaymentPS</source.uri>
    <target.uri>Chai.PaymentPS</target.uri>
  </wire>
  <wire>
    <source.uri>NotifyBill/StagingDB</source.uri>
    <target.uri>StagingDB</target.uri>
  </wire>
</composite>
